<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Document</title>
	</head>
	<body>
		<div id="app">
			<jack></jack>
			<p>---------------------------------------</p>
			<rose></rose>
		</div>
		<script src="./../vue.js"></script>
		<script>
			const bus = new Vue();
			Vue.component("jack", {
				template: `
                <div>
                    <input type="text" v-model="msg" ref="son"><button @click='send'>发送</button>
                    <br>
                    我是Jack，我想对rose说：{{msg}}
                </div>
            `,
				data() {
					return {
						msg: "",
					};
				},
				methods: {
					send() {
                        bus.$emit("get", this.msg);
                        this.msg=""
					},
				},
			});
			Vue.component("rose", {
				template: `
                <div>
                    我是rose，Jack对我说：{{msg}}
                </div>
            `,
				data() {
					return {
						msg: "",
					};
				},
				created() {
					bus.$on("get", (msg) => {
						this.msg = msg;
					});
				},
			});
			const vm = new Vue({ 
                el: "#app" 
            });
		</script>
	</body>
</html>
